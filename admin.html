<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | xXKnightXx</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>üîí –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∫–ª–∞–Ω–∞ xXKnightXx</h1>
  </header>

  <nav>
   <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="rules.html">–ü—Ä–∞–≤–∏–ª–∞</a>
    <a href="members.html">–ß–ª–µ–Ω—ã –∫–ª–∞–Ω–∞</a>
    <a href="support.html">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
    <a href="donate.html">–î–æ–Ω–∞—Ç</a>
    <a href="admin.html" style="color: #ffcc00;">–ê–¥–º–∏–Ω</a>
    <a href="discord.html" style="color: #ffcc00;">Discord</a>
  </nav>

  <main>
    <section class="section animated">
      <h2>–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
      <div id="loginScreen">
        <input type="password" id="adminPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
        <button onclick="login()">–í–æ–π—Ç–∏</button>
      </div>

      <div id="adminPanel" style="display: none;">
        <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —á–ª–µ–Ω–∞ –∫–ª–∞–Ω–∞</h3>
        <input type="text" id="newMemberName" placeholder="–ù–∏–∫">
        <select id="newMemberRole">
          <option value="–£—á–∞—Å—Ç–Ω–∏–∫">–£—á–∞—Å—Ç–Ω–∏–∫</option>
          <option value="–ê–¥–º–∏–Ω">–ê–¥–º–∏–Ω</option>
          <option value="–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å">–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å</option>
        </select>
        <button onclick="addMember()">–î–æ–±–∞–≤–∏—Ç—å</button>

        <h3>–°–ø–∏—Å–æ–∫ —á–ª–µ–Ω–æ–≤ –∫–ª–∞–Ω–∞</h3>
        <ul id="memberList"></ul>
      </div>
    </section>
  </main>

  <footer>
    <p><a href="index.html" style="color: var(--primary);">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a></p>
  </footer>

  <script>
    const correctPassword = 'Catalin22245!!!';

    function login() {
      if (document.getElementById('adminPassword').value === correctPassword) {
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('adminPanel').style.display = 'block';
        loadMembers();
      } else {
        alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!');
      }
    }

    let membersData = {};

    async function loadMembers() {
      try {
        const res = await fetch('members.json');
        membersData = await res.json();

        const list = document.getElementById('memberList');
        list.innerHTML = '';

        // –õ–∏–¥–µ—Ä
        list.innerHTML += `<li>${membersData.leader.role}: ${membersData.leader.name}</li>`;
        // –ê–¥–º–∏–Ω
        list.innerHTML += `<li>${membersData.admin.role}: ${membersData.admin.name}</li>`;
        // –£—á–∞—Å—Ç–Ω–∏–∫–∏
        membersData.members.forEach((m, i) => {
          list.innerHTML += `<li>${m.role}: ${m.name} <button onclick="removeMember(${i})">–£–¥–∞–ª–∏—Ç—å</button></li>`;
        });
      } catch (e) {
        console.error(e);
      }
    }

    function addMember() {
      const name = document.getElementById('newMemberName').value.trim();
      const role = document.getElementById('newMemberRole').value;
      if (!name) return;

      membersData.members.push({ name, role });
      saveMembers();
      document.getElementById('newMemberName').value = '';
      loadMembers();
    }

    function removeMember(index) {
      membersData.members.splice(index, 1);
      saveMembers();
      loadMembers();
    }

    function saveMembers() {
      alert('‚ö†Ô∏è –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—ë–Ω! –¢–µ–ø–µ—Ä—å —Å–∫–æ–ø–∏—Ä—É–π JSON –Ω–∏–∂–µ –∏ –∑–∞–º–µ–Ω–∏ —Ñ–∞–π–ª members.json –Ω–∞ Replit:');
      console.log(JSON.stringify(membersData, null, 2));
    }
  </script>
</body>
</html>